<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<link href='fullcalendar.css' rel='stylesheet' />
<link href='fullcalendar.print.css' rel='stylesheet' media='print' />
<script src='lib/moment.min.js'></script>
<script src='lib/jquery.min.js'></script>
<script src='fullcalendar.min.js'></script>
<script>var selectedViewNameStr="";

	$(document).ready(function() {
		var startTimeStr = "09:00:00";
		var endTimeStr = "18:00:00";
		
		var slotDurationFormatVal='00:30:00';
		var startTimeStr = "09:00:00";
		var endTimeStr = "18:00:00";
		
		
		$('#calendar').fullCalendar({
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,agendaWeek,basicDay'
			},
			defaultDate: '2016-09-12',
			navLinks: true, // can click day/week names to navigate views
			editable: true,
			eventLimit: true, // allow "more" link when too many events
			defaultView: 'agendaWeek',
      	views: {
      		agendaWeek : {
      			slotDuration: '00:60:00', 
           	 	minTime: startTimeStr, // start working hours 10 AM
  				maxTime: endTimeStr, // end working hours 7 PM
      		}, 
			display1WeeksAsDays: {
                type: 'agenda',
                minTime: startTimeStr, // start working hours 10 AM
  				maxTime: endTimeStr, // end working hours 7 PM
				slotDuration: slotDurationFormatVal, // slots per day? 12:00 i.e. 12 hours AM/PM
				duration: { days: 7 } // to draw as days, we will use
        	},
        	display2WeeksAsDays: {
                type: 'agenda',
                minTime: startTimeStr, // start working hours 10 AM
  				maxTime: endTimeStr, // end working hours 7 PM
				slotDuration: slotDurationFormatVal, // slots per day? 12:00 i.e. 12 hours AM/PM
				duration: { days: 14 }
        	},
            display3WeeksAsDays: {
                type: 'agenda',
                minTime: startTimeStr, // start working hours 10 AM
  				maxTime: endTimeStr, // end working hours 7 PM
				slotDuration: slotDurationFormatVal, // slots per day? 12:00 i.e. 12 hours AM/PM
				duration: { days: 21 }
        	},
            display4WeeksAsDays: {
                type: 'agenda',
                minTime: startTimeStr, // start working hours 10 AM
  				maxTime: endTimeStr, // end working hours 7 PM
				slotDuration: slotDurationFormatVal, // slots per day? 12:00 i.e. 12 hours AM/PM
				duration: { days: 28 }
        	},
				
           		agendaToDisplayOneWeek: {
          	  		type: 'agenda',
           	 		duration: { weeks: 1 },
           	 		slotDuration: '00:60:00', 
           	 		minTime: startTimeStr, // start working hours 10 AM
  					maxTime: endTimeStr, // end working hours 7 PM
           	 		buttonText: '1 week'
        		},
        		agendaToDisplayTwoWeek: {
          	  		type: 'agenda',
           	 		duration: { weeks: 2 },
           	 		slotDuration: '00:60:00', 
           	 		minTime: startTimeStr, // start working hours 10 AM
  					maxTime: endTimeStr, // end working hours 7 PM
           	 		buttonText: '2 weeks'
        		},
        		agendaToDisplayThreeWeek: {
          	  		type: 'agenda',
           	 		duration: { weeks: 3 },
           	 		slotDuration: '00:60:00', 
           	 		minTime: startTimeStr, // start working hours 10 AM
  					maxTime: endTimeStr, // end working hours 7 PM
           	 		 buttonText: '3 weeks'
        		},
        		agendaToDisplayFourWeek: {
          	  		type: 'agenda',
           	 		duration: { weeks: 4 },
           	 		slotDuration: '00:60:00', 
           	 		minTime: startTimeStr, // start working hours 10 AM
  					maxTime: endTimeStr, // end working hours 7 PM
           	 		 buttonText: '4 weeks'
        		}
			},
			viewRender:function(view, element){
    		selectedView=view.name;
    		//console.log(selectedView);
    		if(view.name=="agendaWeek" || view.name=="basicDay"){
                selectedViewNameStr=selectedView;
            }
            
    	 	$('.fc-scope').hide();
            $('.fc-basicDay-button').removeClass( 'fc-state-active' );
            $('.fc-agendaWeek-button').removeClass( 'fc-state-active' );
            
    		if(view.name=="agendaWeek" || view.name=="agendaToDisplayOneWeek" || view.name=="agendaToDisplayTwoWeek" || view.name=="agendaToDisplayThreeWeek" ||   view.name=="agendaToDisplayFourWeek"){
    			if(view.name=="agendaWeek"){
                    var weekSelectedNum=$('#no_of_weeks').val();
                    refreshCalendarDependingUponWeeks(weekSelectedNum);
                }
                $('.fc-scope').show();
                $('.fc-agendaWeek-button').addClass( 'fc-state-active' );
                
    		}else if(view.name=="basicDay" || view.name=="display4WeeksAsDays" ||   view.name=="display3WeeksAsDays" || view.name=="display2WeeksAsDays" || view.name=="display1WeeksAsDays"){
                if(view.name=="basicDay"){
                    var weekSelectedNum=$('#no_of_weeks').val();
                    refreshCalendarDependingUponWeeks(weekSelectedNum);
                }
                $('.fc-scope').show();
    			$('.fc-basicDay-button').addClass( 'fc-state-active' );
    		}
    		
    	 	//ResourceWidthSet();
    	},
			events: [
				{
					title: 'All Day Event',
					start: '2016-09-01'
				},
				{
					title: 'Long Event',
					start: '2016-09-07',
					end: '2016-09-10'
				},
				{
					id: 999,
					title: 'Repeating Event',
					start: '2016-09-09T16:00:00'
				},
				{
					id: 999,
					title: 'Repeating Event',
					start: '2016-09-16T16:00:00'
				},
				{
					title: 'Conference',
					start: '2016-09-11',
					end: '2016-09-13'
				},
				{
					title: 'Meeting',
					start: '2016-09-12T10:30:00',
					end: '2016-09-12T12:30:00'
				},
				{
					title: 'Lunch',
					start: '2016-09-12T12:00:00'
				},
				{
					title: 'Meeting',
					start: '2016-09-12T14:30:00'
				},
				{
					title: 'Happy Hour',
					start: '2016-09-12T17:30:00'
				},
				{
					title: 'Dinner',
					start: '2016-09-12T20:00:00'
				},
				{
					title: 'Birthday Party',
					start: '2016-09-13T07:00:00'
				},
				{
					title: 'Click for Google',
					url: 'http://google.com/',
					start: '2016-09-28'
				}
			],
			eventResize: function(event,dayDelta,minuteDelta,revertFunc) {
				alert("Printing event.start : "+event.start+", Printing event.start : "+event.end+", Printing event.start.format() : "+event.start.format()+" Printing event.end.format() : "+event.end.format());
			}
		});
		// Draw Week Selection dropdown on Calendar
    	$('<select id="no_of_weeks" name="no_of_weeks" class="fc-scope" style="	height:34px;position: relative;"><option value="1">1 week</option><option value="2">2 weeks</option><option value="3">3 weeks</option><option value="4">4 weeks</option></select>').appendTo('#calendar .fc-right')
      .on('change', function() {
      	refreshCalendarDependingUponWeeks($(this).val());
      }).before('<span class="fc-header-space">');
	});
function refreshCalendarDependingUponWeeks(week){
    var weekVal=parseInt(week);
   
    switch (weekVal) {
        case 1:
            if(selectedViewNameStr=="basicDay"){
                $('#calendar').fullCalendar('changeView', 'display1WeeksAsDays');
            }else{
                $('#calendar').fullCalendar('changeView', 'agendaToDisplayOneWeek');
            }
       		break;
    	case 2:
            if(selectedViewNameStr=="basicDay"){
                $('#calendar').fullCalendar('changeView', 'display2WeeksAsDays');
            }else{
                $('#calendar').fullCalendar('changeView', 'agendaToDisplayTwoWeek');
            }
       	    break;
    	case 3:
            if(selectedViewNameStr=="basicDay"){
                $('#calendar').fullCalendar('changeView', 'display3WeeksAsDays');
            }else{
                $('#calendar').fullCalendar('changeView', 'agendaToDisplayThreeWeek');
            }
       		break;
    	case 4:
            if(selectedViewNameStr=="basicDay"){
                $('#calendar').fullCalendar('changeView', 'display4WeeksAsDays');
            }else{
                $('#calendar').fullCalendar('changeView', 'agendaToDisplayFourWeek');
            }
       		break;
        case 5:
            if(selectedViewNameStr=="basicDay"){
                $('#calendar').fullCalendar('changeView', 'display5WeeksAsDays');
            }else{
                $('#calendar').fullCalendar('changeView', 'agendaToDisplayFiveWeek');
            }
       		break;
            
    } 
}
</script>
<style>

	body {
		margin: 40px 10px;
		padding: 0;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		font-size: 14px;
	}

	#calendar {
		max-width: 900px;
		margin: 0 auto;
	}

</style>
</head>
<body>

	<div id='calendar'></div>

</body>
</html>
